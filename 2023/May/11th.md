# 11th May 2023

<ここに目次>

## .mdファイルに目次を作る

### .mdファイルのTILを書いたんだけど、目次を作りたい。何かいい方法はないだろうか。

.md（Markdown）ファイルで目次を作成するための方法はいくつかあります。以下に、GitHubでよく使われる方法を紹介します。

手動での作成：各セクションへのリンクを手動で作成します。例えば：

```markdown
## 目次

1. [セクション 1](#section-1)
2. [セクション 2](#section-2)
3. [セクション 3](#section-3)

## セクション 1
内容...

## セクション 2
内容...

## セクション 3
内容...

```

ここでは、各セクションのタイトルの前には # 記号があることに注意してください。これは Markdown で見出しを作成するための記法です。そして、目次の各項目はその見出しへのリンクとなっています。

自動化ツールの使用：Markdown の目次を自動的に生成するツールを利用することもできます。例えば、VS Code のようなエディタには、Markdown の目次を自動生成する拡張機能があります。また、オンラインのツールも存在します。

GitHub の自動目次生成機能：GitHub は 2021 年より、Markdown ファイルで自動的に目次を生成する機能を提供しています。以下のように記述するだけで、目次が生成されます。

```markdown
- [ ] 目次
```
だし、この機能は現在 GitHub のリポジトリ内でのみ利用可能で、ローカルの Markdown ファイルや他の場所では利用できないことに注意してください。

これらの方法の中から、自分の状況に最も適した方法を選んでみてください。

### そのツールってRubyでかける？

はい、RubyでMarkdownの目次を自動生成するツールを作成することは可能です。その一例として、以下に簡単なスクリプトを示します。このスクリプトは、Markdownファイルの見出し（#、##、### などで始まる行）を抽出し、それらをリンクとして目次を生成します。

```ruby
require 'uri'

def generate_toc(filename)
  headings = File.readlines(filename).grep(/^#+\s/)
  toc = headings.map do |heading|
    title = heading.strip.gsub(/^#+\s/, '')
    anchor = title.gsub(/\s/, '-').downcase
    level = heading.match(/^#+/)[0].length
    "  " * (level - 1) + "- [#{title}](##{anchor})"
  end
  puts toc.join("\n")
end

generate_toc('README.md')
```

このスクリプトは、ファイル名 'README.md' を引数として generate_toc 関数を呼び出すと、そのファイルの目次を出力します。ただし、このスクリプトは非常に基本的なもので、すべてのMarkdownの構文や特殊文字を正確に扱うことはできません。例えば、見出しに特殊文字やマークアップが含まれている場合、それらは適切に処理されません。

より完全なソリューションが必要な場合は、既存のMarkdownパーサ（例えば、'redcarpet'や'kramdown'など）を利用することを検討してみてください。これらのライブラリは、Markdownの構文を解析し、目次の生成などのより高度な操作を行うための機能を提供しています。

### VS Codeのマークダウンの目次自動作成ツールについて教えて

VS Codeでは、拡張機能を利用することでMarkdownの目次を自動生成することができます。その中でも特に評価が高い拡張機能の1つは「Markdown All in One」です。

以下は、Markdown All in Oneを利用して目次を自動生成する手順です：

1. VS Codeを開き、「Extensions」ビュー（画面左側の四角形のアイコン）をクリックします。

2. 検索ボックスに「Markdown All in One」を入力し、検索結果から該当の拡張機能を選択します。

3. 「Install」ボタンをクリックして拡張機能をインストールします。

4. インストールが完了したら、Markdownファイルを開きます。開いたファイルの中で、目次を挿入したい位置にカーソルを置きます。

5. Ctrl+Shift+P（WindowsとLinuxの場合）または Cmd+Shift+P（Macの場合）を押して、コマンドパレットを開きます。

6. コマンドパレットに「Markdown All in One: Create Table of Contents」を入力し、このコマンドを選択します。

これにより、現在開いているMarkdownファイルの見出しに基づいた目次が作成されます。また、見出しを更新した場合は、「Markdown All in One: Update Table of Contents」コマンドを使用することで目次を簡単に更新することができます。

なお、この拡張機能は目次の自動生成だけでなく、Markdownのプレビュー機能の強化、リンクの自動補完、リストの自動整形など、他にも多くの便利な機能を提供しています。

### mdファイルに以下の警告が出るんだけど、どう思う？

```text
MD025/single-title/single-h1: Multiple top-level headings in the same documentmarkdownlintMD025
```

この警告は、Markdownファイルに複数の一番上位レベル（つまり、H1レベル）の見出しが存在する場合に発生します。Markdownの慣例として、一つのドキュメントには一つだけH1レベル（#）の見出しを使用することが推奨されています。

この警告は、Markdownのリンターであるmarkdownlintから出ています。markdownlintは、Markdownファイルの書き方が一般的なスタイルガイドに従っているかどうかをチェックするツールです。

そのため、一つのMarkdownファイル内で複数のH1レベルの見出しを使用したい理由がなければ、見出しレベルを適切に調整して、一つだけH1レベルの見出しを使うようにすると良いでしょう。たとえば、2つ目以降のH1レベルの見出しをH2（##）やH3（###）など、より下位レベルの見出しに変更するなどです。

ただし、何らかの理由で複数のH1レベルの見出しを使用する必要がある場合や、特定の文脈でそれが許容される場合もあります。その場合は、その警告を無視するか、markdownlintの設定を変更してそのルールを無効にすることも可能です。ただし、一般的には、markdownlintの警告はMarkdownの可読性や整合性を高めるためのものなので、無視するべきではないことが多いです。

## 仕事 MySQL関連

MEDIUMBLOBは、MySQLデータベースにおけるデータ型の一つです。BLOBは "Binary Large Object" の略で、バイナリデータ（0と1のデータ）を格納するためのデータ型です。BLOBデータ型は、画像、音声、ビデオなどの大量のバイナリデータをデータベースに格納するために使用されます。

MEDIUMBLOBは、最大約16MBのデータを格納することができます。これは、TINYBLOB（最大約255バイト）、BLOB（最大約65KB）、LONGBLOB（最大約4GB）といった他のBLOBデータ型と比較して、その格納可能なデータ量が異なる点で特徴的です。

これらのBLOBタイプは、必要なデータのサイズによって適切に選択されます。大きなファイルを保存する必要がある場合はLONGBLOBを、小さなファイルを保存する必要がある場合はTINYBLOBやBLOBを使用します。その中間の大きさのデータを保存する場合にはMEDIUMBLOBを使用します。
