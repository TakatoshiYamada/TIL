# 26th June 2023
cronの一覧を表示したい
あなたがLinuxまたはUnix系のシステムを使用している場合、ターミナルで次のコマンドを入力することで、現在のユーザーのcronジョブの一覧を表示できます：
crontab -l
また、特定のユーザーのcronジョブの一覧を表示するには、次のように入力します：
crontab -u ユーザー名 -l
ただし、これを実行するには適切な権限が必要です。以上のコマンドはシステムの設定によっては動作しない場合もありますのでご了承ください。
no crontabって出るんだけど、そもそもcronが動いてないってことだよね
"no crontab"というメッセージは、そのユーザーに対して設定されているcronジョブが一つもないことを示しています。これは、cronシステム自体が動作していないというわけではなく、単にユーザーが設定したcronジョブがない、ということを意味します。
cronシステム自体が動作しているかどうかを確認するには、次のコマンドを実行してみてください：
perl
ps aux | grep cron
このコマンドは、システム上で動作しているプロセスの一覧を表示し、その中から"cron"という文字列が含まれるものを探します。cronサービスが動作していれば、このコマンドはcronのプロセス情報を出力します。
cronの登録ってどうすればいいの
cronジョブを登録するには、以下の手順に従ってください：
ターミナルを開きます。
crontab -eと入力してエンターキーを押します。これにより、あなたのデフォルトのエディタが開き、cronジョブを編集することができます。
新しい行に、次のフォーマットでジョブを追加します：
css
* * * * * command-to-be-executed
これらのアスタリスクはそれぞれ「分（0 - 59）」「時間（0 - 23）」「日（1 - 31）」「月（1 - 12）」「週の日（0 - 7）（日曜日は0または7）」を示しています。
たとえば、毎日午前5時にスクリプトを実行するには、次のように入力します：
javascript
0 5 * * * /path/to/your/script.sh
すべての変更を保存し、エディタを閉じます。この時点で、新しく設定したcronジョブは有効になります。
注意点としては、シェルスクリプトやコマンドにフルパスを使用することをお勧めします。これは、cronは限定的なPATHを持つため、予期せぬ問題を防ぐためです。
cron -eのファイルってどこかに存在するの？
はい、cronの設定は実際には特定のファイルとして保存されています。その場所はシステムによって異なりますが、一般的には以下のディレクトリに存在します：
/var/spool/cron/crontabs：ここには各ユーザーごとのcrontabファイルが存在します。直接これらのファイルを編集することは推奨されません。代わりに crontab -e コマンドを使用して編集すべきです。
また、システム全体のcronジョブは以下のディレクトリに配置されます：
/etc/crontab：システム全体のcronジョブを定義します。
/etc/cron.d：このディレクトリには個別のシステム全体のcronジョブファイルが存在します。
/etc/cron.daily, /etc/cron.hourly, /etc/cron.weekly, /etc/cron.monthly：これらのディレクトリには、それぞれ日、時間、週、月単位で実行するスクリプトが格納されています。
これらのファイルやディレクトリは通常、rootユーザーのみがアクセスできます。
サーバを移行したのでcronも移行したいのだけど、どんな手順を取ればいい？
cronジョブの移行については以下の手順を参考にしてみてください。
現在のサーバでcrontab -lコマンドを使って全てのcronジョブを確認し、それをテキストファイルとして保存します。たとえば：
crontab -l > mycronjobs.txt
このコマンドは、現在のユーザーのcronジョブを mycronjobs.txt という名前のテキストファイルに保存します。
生成したテキストファイルを新しいサーバーにコピーします。これはscpコマンドやrsyncコマンドを使用することで可能です。あるいは、FTPクライアントなどを利用してファイルを移行することも可能です。
新しいサーバ上で、コピーしたテキストファイルを読み込んで新たなcronジョブとして設定します。これは crontab コマンドで行います：
crontab mycronjobs.txt
移行が成功したかどうかを確認するために、crontab -l コマンドを再度実行します。
注意点としては、スクリプトのパスやコマンドが新しいサーバで正しく動作するように調整する必要があります。また、移行に伴い権限の問題が発生しないように注意してください。必要に応じて、新しいサーバでの権限設定を確認し、必要ならば適切に調整してください。
nanoエディターを終了したい
nanoエディタを終了するには、次のステップを実行します：
Ctrl + X を押します。これは nano の終了コマンドです。
未保存の変更がある場合、nanoは保存するかどうかを尋ねてきます。「Y」を押して保存するか、「N」を押して保存せずに終了します。
「Y」を選んだ場合、次にファイル名を入力するプロンプトが表示されます。そのままの名前で保存する場合はエンターキーを押し、新しい名前を指定したい場合は新しい名前を入力してからエンターキーを押します。
以上で nano エディタが終了し、ターミナルに戻ることができます。
今いるディレクトリがどのくらい容量を使っているか確認したい
現在のディレクトリがどのくらいのディスク容量を使用しているかを確認するには、duコマンドを使用します。以下のコマンドは、現在のディレクトリの使用容量を人間が読みやすい形式（例えば、キロバイト、メガバイト、ギガバイト）で表示します。
bash
du -sh .
ここで、
duは "disk usage" の略です。
-sオプションは、サブディレクトリを含む現在のディレクトリ全体のサイズを表示します。
-hオプションは、人間が読みやすい形式で結果を表示します（例：KB, MB, GB）。
.は現在のディレクトリを指します。
crontab -lで表示されているものって設定いらずに実行できるの？
crontab -lコマンドで表示されるcronジョブは、通常は設定した時点で自動的にスケジュールされて実行されます。つまり、それらは設定いらずに（特別な手順を踏まずに）実行されます。
ただし、以下のような特殊な状況ではcronジョブが正しく動作しない場合があります：
スクリプトまたはコマンドに必要な依存関係や環境設定が不足している場合。
スクリプトやコマンドのパスが正しく設定されていない場合。
cronデーモン（cronジョブをスケジュールして実行するプロセス）が停止している、またはサーバがダウンしている場合。
このような問題が生じた場合は、それぞれの問題に対して適切な対応を行う必要があります。
cron全体のlogって出せる？
はい、cronのログは通常システムのログファイルに保存されます。これを見ることでcronジョブが正常に実行されているか、エラーが発生していないかなどを確認できます。
ログファイルの場所はシステムによって異なる可能性がありますが、一般的な場所は以下の通りです：
/var/log/cron：RedHat系のLinux（RHEL, CentOS, Fedoraなど）ではここにログが保存されます。
/var/log/syslog：Debian系のLinux（Ubuntu, Debianなど）ではcronのログがこの一般的なシステムログファイルに保存されます。
ログを表示するには、cat、less、moreなどのコマンドを使用します。たとえば：
bash
sudo cat /var/log/cron
また、特定のcronジョブに関するログだけを見たい場合は、grepコマンドを使用してログをフィルタリングできます。たとえば：
perl
sudo grep 'CRON' /var/log/syslog
このコマンドは /var/log/syslog ファイルから 'CRON' という文字列を含む行だけを抽出します。
これらのコマンドを実行するには、通常はrootユーザーの権限（sudoコマンド）が必要です。
