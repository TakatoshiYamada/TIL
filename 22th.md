# 22th June 2023

## uconv

### uconvってなに

uconvは、Unicodeの文字列を別のエンコーディングに変換するためのツールです。これは、特に異なるエンコーディング間で文字データを移動する必要があるときに便利です。また、文字列の正規化、ケース変換、アクセントの削除など、その他のテキスト変換タスクにも使用されます。これはICU（International Components for Unicode）プロジェクトの一部で、多言語テキストの処理をサポートするためのライブラリとツールを提供しています。

### uconvでno such file to loadが出てるんだけど、Linuxにインストールするパッケージが足りない感じ？

そのエラーメッセージは、通常、uconvがシステムにインストールされていないか、またはシステムがその実行可能ファイルの場所を見つけられないことを示しています。

Linuxの場合、uconvはICU（International Components for Unicode）というライブラリの一部で、このライブラリは特定のパッケージに含まれています。パッケージの名前はディストリビューションによりますが、たとえば、UbuntuやDebianの場合には、以下のコマンドでインストールできます：

arduino
sudo apt-get install libicu-dev

他のディストリビューションの場合、パッケージの名前が異なる可能性があります。このコマンドを実行した後でも同じエラーが発生する場合は、環境変数PATHがuconvの実行可能ファイルの場所を含んでいることを確認してみてください。

### 同じエラーが発生する。Pathかなあ

その場合、uconvが正しくインストールされていても、その場所がシステムのPATH環境変数に含まれていない可能性があります。uconvの場所を調べるには、以下のコマンドを実行してみてください：

javascript
find / -name uconv 2>/dev/null

このコマンドは、システム全体を検索してuconvという名前のファイルを見つけます。出力はuconvのフルパスを示します。このパスを取得したら、PATH環境変数に追加します。たとえば、uconvのパスが/usr/local/bin/uconvであったとします。以下のようにPATH環境変数に追加します：

ruby
export PATH=$PATH:/usr/local/bin

このコマンドは、現在のセッションのPATHに新しい場所を追加します。すべての新しいターミナルセッションでこの変更を維持するには、この行をホームディレクトリの.bashrcや.bash_profile（使用するシェルによります）に追加します。

同じエラーが発生する。Pathかなあ。

そのエラーメッセージは、システムが指定されたファイルを見つけられないときに通常表示されます。今回の場合、それはuconvコマンドを実行するときに必要なファイルを見つけられないということを意味しています。uconvが正しくインストールされていても、そのインストール場所がシステムのPATH環境変数に含まれていない場合、この種のエラーが発生します。

まず、次のコマンドを実行してuconvがインストールされているかどうか、またそのインストール場所を確認してみてください:

whereis uconv

このコマンドはuconvの場所を教えてくれます。もしuconvが見つからない場合、それはインストールが必要であるか、あるいは既にインストールされているがその場所がPATHに含まれていないことを示しています。

それがPATHに含まれていなければ、次のようなコマンドでその場所をPATHに追加できます（ここでは/path/to/uconvをuconvの実際の場所に置き換えてください）:

ruby
export PATH=$PATH:/path/to/uconv

このコマンドは、現在のシェルセッションのPATHにuconvの場所を追加します。これにより、そのセッションではuconvコマンドが実行できるようになります。しかし、新しいセッションを開始するとこの設定は失われますので、永続的に設定するには、この行を~/.bashrcファイル（bashを使用している場合）や適切なシェルの設定ファイルに追加する必要があります。

それでも問題が解決しない場合、uconvが正しくインストールされているか、またそのインストールが正常に行われたか確認するために、システムのパッケージマネージャーを使用してuconv（またはそれを含むライブラリ）を再インストールすることを考えてみてください。

### rubyプログラムのrequiredでエラーが発生する。Ruby 1.8には存在しない？

Rubyのrequireメソッドがno such file to loadエラーを発生させる場合、通常は指定したライブラリまたはファイルが見つからないことを示します。Rubyがそのファイルを探す場所は$LOAD_PATH（または$:）というグローバル変数によって決定されます。

uconvに関しては、それはRubyの標準ライブラリではなく、ICU（International Components for Unicode）プロジェクトの一部として提供されています。したがって、Rubyプログラムからuconvを直接requireすることはできません。

しかし、ICU機能をRubyから利用するためのgemがあります。ffi-icuやcharlock_holmesといったgemがそれに該当します。これらのgemを使用すれば、ICUのuconv機能をRubyから利用することが可能です。

ただし、これらのgemを利用するにはまずICUライブラリをシステムにインストールする必要があり、その後でgemをインストールします。そして、インストールしたgemをrequireすることでICUの機能を利用できます。

なお、あなたが使っているRuby 1.8は非常に古いバージョンで、現在の多くのgemはこのバージョンをサポートしていません。可能であれば、Rubyのバージョンをアップデートすることを強くお勧めします。新しいバージョンのRubyでは、より多くの機能が利用でき、またセキュリティのアップデートも受けられます。

### apt-getでlibicu-devは入れたけどそれはrubyには効かないのね

その通りです。libicu-devはICUライブラリのC開発パッケージで、これ自体はRubyから直接利用することはできません。RubyからICU機能を利用するためには、通常、その機能をRubyから利用するためのラッパーとなるgemが必要です。

例えば、ICUライブラリの機能をRubyで利用できるようにするgemとしてffi-icuやcharlock_holmesなどがあります。これらのgemをインストールすると、RubyプログラムからICUの機能を利用できます。

ただし、これらのgemをインストールする前に、必要なICUライブラリ（今回の場合はlibicu-dev）をシステムにインストールしておく必要があります。これはgemがICUライブラリの機能にアクセスするために必要なライブラリファイルを見つけられるようにするためです。

また、使用しているRuby 1.8は非常に古いバージョンなので、新しいgemが対応していない可能性があります。もし可能であれば、Rubyのバージョンをアップデートすることをお勧めします。新しいバージョンのRubyでは、より多くの機能が利用でき、またセキュリティのアップデートも受けられます。

### tar.gzファイルを解凍して展開しないといけないんだけど、どんなコマンドだっけ

.tar.gzファイル（gzipで圧縮されたtarアーカイブ）を解凍・展開するための一般的なコマンドは以下のようになります:

bash
tar -xzvf filename.tar.gz

ここで各オプションの意味は次の通りです:

- x: extract（展開）を意味します。
- z: gzip圧縮を解凍することを意味します。
- v: verbose（詳細）モードを意味し、展開されるファイルの一覧を表示します。
- f: file（ファイル）を意味し、次にアーカイブファイル名を指定することを示します。

このコマンドを実行すると、filename.tar.gzアーカイブ内の全てのファイル・ディレクトリが現在のディレクトリに展開されます。
