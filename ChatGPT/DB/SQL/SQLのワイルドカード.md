# "%#{schedule_manager.processing}%" は何をしているのか

この部分はSQLのLIKE句で使用するワイルドカードを含んだ文字列を生成しています。

- %: これはSQLのワイルドカードで、任意の数（ゼロを含む）の文字と一致します。
- `#{schedule_manager.processing}``: Rubyの文字列内挿入を使用して、schedule_managerオブジェクトのprocessingメソッド（または属性）の値を挿入しています。

全体として、この"%#{schedule_manager.processing}%"は、schedule_manager.processingが返す値を含む任意の文字列と一致するレコードを検索するために使用されます。
たとえば、schedule_manager.processingが"abc"を返す場合、このLIKE句は"abc"を含むすべてのprocessing値に一致するレコードを見つけます（例: "abc", "1abc1", "abc123" 等）。

## %で囲むとSQLのワイルドカードになるんだ

はい、その通りです。SQLのLIKE句で使用される%はワイルドカードとして機能し、任意の数（ゼロも含む）の文字にマッチします。

- %abc: "abc"で終わる任意の文字列にマッチ（例: "abc", "1abc"）
- abc%: "abc"で始まる任意の文字列にマッチ（例: "abc", "abc1"）
- %abc%: "abc"を含む任意の文字列にマッチ（例: "abc", "1abc1", "abc123"）

このように、%を使う位置によって検索の挙動が変わります。

## 正規表現とは違うの

はい、SQLのLIKE句で使用されるワイルドカードと正規表現は異なります。LIKE句のワイルドカードは非常に基本的な文字列マッチング機能しか提供しませんが、正規表現はより高度なパターンマッチングが可能です。

SQLのLIKEは主に%と_（任意の一文字にマッチ）の二つのワイルドカードしかサポートしていません。

一方で、正規表現は文字クラス、量指定子、グループ化など多くの高度なマッチングオプションを提供しています。

もしSQLで正規表現を使いたい場合、多くのデータベースシステムは正規表現に対応した特定の関数を提供しています（例：REGEXP in MySQL, ~ in PostgreSQLなど）。

## 正規表現だと%は何に値するっけ

正規表現では、%に特別な意味はありません。それはただのリテラルの%文字として扱われます。
特殊な役割を持つ文字には、例えば

- .（任意の一文字）
- *（前の要素が0回以上繰り返す）
- +（前の要素が1回以上繰り返す）

などがありますが、%はそのような特殊な意味を持たないので、そのまま%文字としてマッチします。

もし正規表現で%文字自体をマッチさせたい場面では、特にエスケープする必要はありません。ただ%と書くだけで、その文字にマッチします。
